[gd_scene load_steps=9 format=3 uid="uid://cpv2neigc24sq"]

[ext_resource type="PackedScene" uid="uid://bj2ifeiijhv7" path="res://player/scenes/player.tscn" id="1_d6po2"]
[ext_resource type="PackedScene" uid="uid://cy4f45hhxpus8" path="res://ui/inventory/ui_inventory.tscn" id="1_u10mr"]
[ext_resource type="Texture2D" uid="uid://2j3yjseyruxc" path="res://demo/PNG/Dark/texture_02.png" id="2_ytiva"]
[ext_resource type="PackedScene" uid="uid://bsf1hpfcc0egi" path="res://doors/door.tscn" id="3_dar0o"]
[ext_resource type="PackedScene" uid="uid://bxtj7u6dwqj0f" path="res://items/key/key.tscn" id="5_u10mr"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_d6po2"]
data = PackedVector3Array(-10, -0.5, 10, -10, -0.5, -10, -10, 0.5, -10, 10, -0.5, -10, -10, -0.5, -10, -10, -0.5, 10, -10, 0.5, -10, -10, -0.5, -10, 10, -0.5, -10, -10, 0.5, -10, -10, 0.5, 10, -10, -0.5, 10, -10, -0.5, 10, -10, 0.5, 10, 10, 0.5, 10, 10, 0.5, 10, -10, 0.5, 10, -10, 0.5, -10, -10, -0.5, 10, 10, -0.5, 10, 10, -0.5, -10, 10, 0.5, 10, 10, -0.5, 10, -10, -0.5, 10, 10, -0.5, -10, 10, -0.5, 10, 10, 0.5, 10, 10, -0.5, -10, 10, 0.5, -10, -10, 0.5, -10, -10, 0.5, -10, 10, 0.5, -10, 10, 0.5, 10, 10, 0.5, 10, 10, 0.5, -10, 10, -0.5, -10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dar0o"]
albedo_texture = ExtResource("2_ytiva")
emission_texture = ExtResource("2_ytiva")
uv1_scale = Vector3(5, 5, 5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_dar0o"]
data = PackedVector3Array(-4.06934, -1.17163, 1.72534, -4.06934, -1.17163, -1.72534, -4.06934, 1.17163, -1.72534, 4.06934, -1.17163, -1.72534, -4.06934, -1.17163, -1.72534, -4.06934, -1.17163, 1.72534, -4.06934, 1.17163, -1.72534, -4.06934, -1.17163, -1.72534, 4.06934, -1.17163, -1.72534, -4.06934, 1.17163, -1.72534, -4.06934, 1.17163, 1.72534, -4.06934, -1.17163, 1.72534, -4.06934, -1.17163, 1.72534, -4.06934, 1.17163, 1.72534, 4.06934, 1.17163, 1.72534, 4.06934, 1.17163, 1.72534, -4.06934, 1.17163, 1.72534, -4.06934, 1.17163, -1.72534, -4.06934, -1.17163, 1.72534, 4.06934, -1.17163, 1.72534, 4.06934, -1.17163, -1.72534, 4.06934, 1.17163, 1.72534, 4.06934, -1.17163, 1.72534, -4.06934, -1.17163, 1.72534, 4.06934, -1.17163, -1.72534, 4.06934, -1.17163, 1.72534, 4.06934, 1.17163, 1.72534, 4.06934, -1.17163, -1.72534, 4.06934, 1.17163, -1.72534, -4.06934, 1.17163, -1.72534, -4.06934, 1.17163, -1.72534, 4.06934, 1.17163, -1.72534, 4.06934, 1.17163, 1.72534, 4.06934, 1.17163, 1.72534, 4.06934, 1.17163, -1.72534, 4.06934, -1.17163, -1.72534)

[node name="demo" type="Node3D"]

[node name="ui_inventory" parent="." instance=ExtResource("1_u10mr")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
light_bake_mode = 0
directional_shadow_mode = 0

[node name="player" parent="." instance=ExtResource("1_d6po2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.2657, 2.74012, -6.24905)

[node name="ground" type="StaticBody3D" parent="."]
collision_mask = 3

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32397, 0, -2.70743)
shape = SubResource("ConcavePolygonShape3D_d6po2")

[node name="CSGBox3D" type="CSGBox3D" parent="ground" groups=["blocking"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.32397, 0, -2.70743)
material_override = SubResource("StandardMaterial3D_dar0o")
size = Vector3(20, 1, 20)

[node name="door" parent="." instance=ExtResource("3_dar0o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1496, 1.73022, -6.35726)

[node name="door2" parent="." instance=ExtResource("3_dar0o")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -3.1496, 1.73022, -9.13058)
closed_angle = 180.0
key_name = "key2"

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CSGBox3D2" type="CSGBox3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.98213, 1.60613, -10.9735)
material_override = SubResource("StandardMaterial3D_dar0o")
size = Vector3(8.13867, 2.34326, 3.45068)

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.98213, 1.60613, -10.9735)
shape = SubResource("ConcavePolygonShape3D_dar0o")

[node name="key" parent="." node_paths=PackedStringArray("my_doors") instance=ExtResource("5_u10mr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.10846, 1.82971, 0)
my_doors = [NodePath("../door2")]
item_name = "key1"

[node name="key2" parent="." node_paths=PackedStringArray("my_doors") instance=ExtResource("5_u10mr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.10846, 1.82971, 2.79117)
my_doors = [NodePath("../door")]
item_name = "key2"

[node name="StaticBody3D2" type="StaticBody3D" parent="." groups=["blocking"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.03229, 1.48077, 11.1688)
collision_layer = 7
collision_mask = 4

[node name="CSGBox3D2" type="CSGBox3D" parent="StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.98213, 1.60613, -10.9735)
material_override = SubResource("StandardMaterial3D_dar0o")
size = Vector3(8.13867, 2.34326, 3.45068)

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.98213, 1.60613, -10.9735)
shape = SubResource("ConcavePolygonShape3D_dar0o")
